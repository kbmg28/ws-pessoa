----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
drop table if exists pessoa_fisica;
drop table if exists pessoa_juridica;
drop table if exists email;
drop table if exists endereco;
drop table if exists telefone;
drop table if exists pessoa;
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

CREATE SEQUENCE "PUBLIC"."SEQUENCE_PESSOA"          START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE "PUBLIC"."SEQUENCE_PESSOA_JURIDICA" START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE "PUBLIC"."SEQUENCE_ENDERECO"        START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE "PUBLIC"."SEQUENCE_PESSOA_FISICA"   START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE "PUBLIC"."SEQUENCE_EMAIL"           START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE "PUBLIC"."SEQUENCE_TELEFONE"        START WITH 1 BELONGS_TO_TABLE;

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

CREATE CACHED TABLE "PUBLIC"."PESSOA"(
    "ID_PESSOA" BIGINT DEFAULT (NEXT VALUE FOR "PUBLIC"."SEQUENCE_PESSOA") 
                NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SEQUENCE_PESSOA",
    "DATA_CRIACAO" TIMESTAMP,
    "NOME_COMPLETO" VARCHAR(50),
    "TIPO_PESSOA" VARCHAR(2) NOT NULL
);

CREATE CACHED TABLE "PUBLIC"."PESSOA_FISICA"(
    "ID_PF" BIGINT DEFAULT (NEXT VALUE FOR "PUBLIC"."SEQUENCE_PESSOA_FISICA") 
            NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SEQUENCE_PESSOA_FISICA",
    "CPF" VARCHAR(11),
    "RG" VARCHAR(10),
    "PESSOA_ID" BIGINT
);


CREATE CACHED TABLE "PUBLIC"."PESSOA_JURIDICA"(
    "ID_PJ" BIGINT DEFAULT (NEXT VALUE FOR "PUBLIC"."SEQUENCE_PESSOA_JURIDICA") 
            NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SEQUENCE_PESSOA_JURIDICA",
    "CNPJ" VARCHAR(14) NOT NULL,
    "INSCRICAO_ESTADUAL" VARCHAR(20),
    "PESSOA_ID" BIGINT
);

CREATE CACHED TABLE "PUBLIC"."EMAIL"(
    "ID_EMAIL" BIGINT DEFAULT (NEXT VALUE FOR "PUBLIC"."SEQUENCE_EMAIL") 
                NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SEQUENCE_EMAIL",
    "DATA_ATUALIZACAO" TIMESTAMP,
    "DATA_CRIACAO" TIMESTAMP,
    "EMAIL" VARCHAR(100) NOT NULL,
    "STATUS" VARCHAR(1) NOT NULL,
    "TIPO_DE_USO" VARCHAR(1) NOT NULL,
    "PESSOA_ID" BIGINT
);

CREATE CACHED TABLE "PUBLIC"."ENDERECO"(
    "ID_ENDERECO" BIGINT DEFAULT (NEXT VALUE FOR "PUBLIC"."SEQUENCE_ENDERECO")
                NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SEQUENCE_ENDERECO",
    "BAIRRO" VARCHAR(30),
    "CEP" VARCHAR(8),
    "COMPLEMENTO" VARCHAR(40),
    "DATA_ATUALIZACAO" TIMESTAMP,
    "DATA_CRIACAO" TIMESTAMP,
    "IBGE" INTEGER,
    "LOCALIDADE" VARCHAR(50),
    "LOGRADOURO" VARCHAR(50),
    "NUMERO" VARCHAR(10),
    "STATUS" VARCHAR(1) NOT NULL,
    "TIPO_ENDERECO" VARCHAR(15) NOT NULL,
    "UF" VARCHAR(2),
    "PESSOA_ID" BIGINT
);

CREATE CACHED TABLE "PUBLIC"."TELEFONE"(
    "ID_TELEFONE" BIGINT DEFAULT (NEXT VALUE FOR "PUBLIC"."SEQUENCE_TELEFONE") 
                NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SEQUENCE_TELEFONE",
    "CONTATO" VARCHAR(30) NOT NULL,
    "DATA_ATUALIZACAO" TIMESTAMP,
    "DATA_CRIACAO" TIMESTAMP,
    "DDD" INTEGER NOT NULL,
    "NUMERO" INTEGER NOT NULL,
    "STATUS" VARCHAR(1) NOT NULL,
    "TIPO_DE_USO" VARCHAR(15) NOT NULL,
    "PESSOA_ID" BIGINT
);

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ALTER TABLE "PUBLIC"."PESSOA"           ADD CONSTRAINT "PUBLIC"."ID_PESSOA_PK"      PRIMARY KEY("ID_PESSOA");
ALTER TABLE "PUBLIC"."PESSOA_FISICA"    ADD CONSTRAINT "PUBLIC"."ID_PF_PK"          PRIMARY KEY("ID_PF");
ALTER TABLE "PUBLIC"."PESSOA_JURIDICA"  ADD CONSTRAINT "PUBLIC"."ID_PJ_PK"          PRIMARY KEY("ID_PJ");
ALTER TABLE "PUBLIC"."EMAIL"            ADD CONSTRAINT "PUBLIC"."ID_EMAIL_PK"       PRIMARY KEY("ID_EMAIL");
ALTER TABLE "PUBLIC"."ENDERECO"         ADD CONSTRAINT "PUBLIC"."ID_ENDERECO_PK"    PRIMARY KEY("ID_ENDERECO");
ALTER TABLE "PUBLIC"."TELEFONE"         ADD CONSTRAINT "PUBLIC"."ID_TELEFONE"       PRIMARY KEY("ID_TELEFONE");

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ALTER TABLE "PUBLIC"."PESSOA_JURIDICA"  ADD CONSTRAINT "PUBLIC"."PESSOA_JURIDICA___PESSOA_ID_FK"    FOREIGN KEY("PESSOA_ID") REFERENCES "PUBLIC"."PESSOA"("ID_PESSOA") NOCHECK;
ALTER TABLE "PUBLIC"."TELEFONE"         ADD CONSTRAINT "PUBLIC"."TELEFONE___PESSOA_ID_FK"           FOREIGN KEY("PESSOA_ID") REFERENCES "PUBLIC"."PESSOA"("ID_PESSOA") NOCHECK;
ALTER TABLE "PUBLIC"."EMAIL"            ADD CONSTRAINT "PUBLIC"."EMAIL___PESSOA_ID_FK"              FOREIGN KEY("PESSOA_ID") REFERENCES "PUBLIC"."PESSOA"("ID_PESSOA") NOCHECK;
ALTER TABLE "PUBLIC"."PESSOA_FISICA"    ADD CONSTRAINT "PUBLIC"."PESSOA_FISICA___PESSOA_ID_FK"      FOREIGN KEY("PESSOA_ID") REFERENCES "PUBLIC"."PESSOA"("ID_PESSOA") NOCHECK;
ALTER TABLE "PUBLIC"."ENDERECO"         ADD CONSTRAINT "PUBLIC"."ENDERECO___PESSOA_ID_FK"           FOREIGN KEY("PESSOA_ID") REFERENCES "PUBLIC"."PESSOA"("ID_PESSOA") NOCHECK;

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


INSERT INTO "PUBLIC"."PESSOA" VALUES
(1, TIMESTAMP '2020-01-01 22:11:43.484', 'TESTE DO NOME', 'PF'),
(2, TIMESTAMP '2020-01-10 22:11:43.582', 'NOME DA PESSOA JURIDICA', 'PJ'),
(3, TIMESTAMP '2020-01-20 22:11:43.59', 'DEV4DEV GERADOR DE CPF', 'PF');

INSERT INTO "PUBLIC"."PESSOA_FISICA" VALUES
(1, '71941528007', '242492757', 1),
(2, '47268406061', '363537454', 3);

INSERT INTO "PUBLIC"."PESSOA_JURIDICA" VALUES
(1, '19056334000105', '995253323', 2);

INSERT INTO "PUBLIC"."EMAIL" VALUES
(1, TIMESTAMP '2020-01-01 22:11:43.557', TIMESTAMP '2020-01-01 22:11:43.557', 'teste@teste.com', 'A', 'P', 1),
(2, TIMESTAMP '2020-01-01 22:11:43.568', TIMESTAMP '2020-01-01 22:11:43.568', 'teste2@teste.com', 'A', 'O', 1),
(3, TIMESTAMP '2020-01-10 22:11:43.586', TIMESTAMP '2020-01-10 22:11:43.586', 'teste3@teste.com', 'A', 'P', 2),
(4, TIMESTAMP '2020-01-20 22:11:43.593', TIMESTAMP '2020-01-20 22:11:43.593', 'teste4@teste.com', 'A', 'P', 3),
(5, TIMESTAMP '2020-01-20 22:11:43.594', TIMESTAMP '2020-01-20 22:11:43.594', 'teste5@teste.com', 'A', 'C', 3);

INSERT INTO "PUBLIC"."ENDERECO" VALUES
(1, 'Cidade Nova', '69097150', NULL, TIMESTAMP '2020-01-01 22:11:43.569', TIMESTAMP '2020-01-01 22:11:43.569', 1302603, 'Manaus', 'Rua Laranjal', '56', 'A', 'FISCAL', 'AM', 1),
(2, 'Cidade Nova', '69090080', NULL, TIMESTAMP '2020-01-01 22:11:43.571', TIMESTAMP '2020-01-01 22:11:43.571', 1302603, 'Manaus', STRINGDECODE('Rua Guapia\u00e7u'), '50', 'A', 'FISCAL', 'AM', 1),
(3, 'Tancredo Neves', '69087031', NULL, TIMESTAMP '2020-01-10 22:11:43.587', TIMESTAMP '2020-01-10 22:11:43.587', 1302603, 'Manaus', 'Rua Charles Darwin', '40', 'A', 'OUTROS', 'AM', 2),
(4, STRINGDECODE('Cidade Sat\u00e9lite'), '69317566', NULL, TIMESTAMP '2020-01-20 22:11:43.595', TIMESTAMP '2020-01-20 22:11:43.595', 1400100, 'Boa Vista', 'Rua Sirius', '7', 'A', 'FISCAL', 'RR', 3),
(5, 'Estados', '69317471', NULL, TIMESTAMP '2020-01-20 22:11:43.596', TIMESTAMP '2020-01-20 22:11:43.596', 1400100, 'Boa Vista', 'Rua Santa Catarina', '3A', 'A', 'FISCAL', 'RR', 3);

INSERT INTO "PUBLIC"."TELEFONE" VALUES
(1, 'Teste 1', TIMESTAMP '2020-01-01 22:11:43.572', TIMESTAMP '2020-01-01 22:11:43.572', 61, 989264530, 'A', 'PARTICULAR', 1),
(2, 'Teste 2', TIMESTAMP '2020-01-01 22:11:43.573', TIMESTAMP '2020-01-01 22:11:43.573', 91, 988477241, 'A', 'OUTROS', 1),
(3, 'Teste 3', TIMESTAMP '2020-01-10 22:11:43.588', TIMESTAMP '2020-01-10 22:11:43.588', 98, 987135805, 'A', 'PARTICULAR', 2),
(4, 'Teste 4', TIMESTAMP '2020-01-20 22:11:43.597', TIMESTAMP '2020-01-20 22:11:43.597', 95, 996681564, 'A', 'PARTICULAR', 3),
(5, 'Teste 5', TIMESTAMP '2020-01-20 22:11:43.598', TIMESTAMP '2020-01-20 22:11:43.598', 82, 998602849, 'A', 'CORPORATIVO', 3);
